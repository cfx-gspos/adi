{"version":3,"sources":["constants/index.js","utils/index.js","images/not-allow.png","../public/locales/index.js","pages/components/Header/index.js","utils/cfx.js","pages/Home/index.js","pages/Pool/Header.js","pages/Pool/ConfirmModal.js","pages/Pool/TxModal.js","images/success_big.png","pages/Pool/index.js","App.js","reportWebVitals.js","index.js","../pool.config.js"],"names":["CFX_BASE_PER_VOTE","SCAN_URL","StatusPosNode","isTestNetEnv","window","process","REACT_APP_TestNet","location","hostname","includes","getCfxByVote","vote","BigNumber","multipliedBy","toNumber","getApy","data","dividedBy","getFee","userFee","minus","calculateGasMargin","value","margin","toString","plus","toFixed","getDateByBlockInterval","minuend","subtrahend","minuendBn","subtrahendBn","isGreater","isGreaterThan","seconds","futureDate","Date","now","pastDate","getEllipsStr","str","frontNum","endNum","length","substring","getPrecisionAmount","amount","precision","i18n","use","initReactI18next","init","lng","config","defaultLang","debug","resources","en","translation","zh","id","vn","ko","interpolation","escapeValue","Option","Select","Header","Layout","isTest","HeaderComp","t","useTranslation","address","useAccount","chainId","useChainId","networkError","style","width","height","padding","className","to","marginRight","defaultValue","language","onChange","changeLanguage","type","onClick","tryActivate","createPortal","src","NotAllow","alt","document","body","networkId","cfxUrl","poolConfig","testnet","RPC","mainnet","origin","conflux","Conflux","url","posPoolManagerAddressTestnet","poolManagerAddress","posPoolManagerAddressMainnet","posPoolManagerAddress","getPosPoolContract","Contract","abi","posPoolAbi","posPoolManagerContract","posManagerAbi","getPosAccountByPowAddress","a","posPoolContract","format","posAddress","hex","provider","call","posAccout","Home","useState","dataList","setDataList","loading","setLoading","history","useHistory","accountAddress","columns","title","key","dataIndex","render","status","color","text","record","size","RightCircleOutlined","push","gotoPoolPage","fontSize","useEffect","getPools","list","transferData","getData","arr","proArr","forEach","item","Promise","all","proRes","index","totalAvailable","name","apy","fee","forceRetired","dataSource","pagination","poolAddress","useParams","lockedCfx","setLockedCfx","totalRevenue","setTotalRevenue","setApy","setName","poolSummary","poolAPY","poolName","Drip","toCFX","fetchData","cardStyle","backgroundColor","borderRadius","fontWeight","cardHeadStyle","opacity","bordered","headStyle","icon","SyncOutlined","spin","CheckCircleOutlined","CloseCircleOutlined","getStatusTag","ConfirmModal","visible","setVisible","onOk","content","okText","onCancel","TxModal","txHash","networkVersion","getNetworkUrl","maskClosable","footer","href","target","rel","Pool","Form","useForm","form","_balance","useBalance","balance","toDecimalStandardUnit","cfxMaxCanStake","isGreaterThanOrEqualTo","multiple","Math","floor","getMax","setStatus","stakedCfx","setStakedCfx","rewards","setRewards","setFee","cfxCanUnstake","setCfxCanUnstate","cfxCanWithdraw","setCfxCanWithdraw","inputStakeCfx","setInputStakeCfx","inputUnstakeCfx","setInputUnstakeCfx","userSummary","setUserSummary","currentBlockNumber","setCurrentBlockNumber","lastDistributeTime","setLastDistributeTime","unstakeList","setUnstakeList","stakeModalShown","setStakeModalShown","unstakeModalShown","setUnStakeModalShown","txModalShown","setTxModalShown","setTxHash","stakeInputStatus","setStakeInputStatus","stakeErrorText","setStakeErrorText","unstakeInputStatus","setUnstakeInputStatus","unstakeErrorText","setUnstakeErrorText","stakeBtnDisabled","setStakeBtnDisabled","unstakeBtnDisabled","setUnstakeBtnDisabled","isLoading","setIsLoading","waitStakeRes","setWaitStakeRes","currentBlock","blockNumber","lastDistribute","lastDistributeBlock","toLocaleString","posAccount","stakeCfxNum","Number","error","cfxNum","fetchPoolData","useCallback","userInterest","poolUserShareRatio","userOutQueue","userSum","transferQueue","queueList","timeStr","submit","message","estimateData","stakeVote","increaseStake","estimateGasAndCollateral","from","unstakeVote","decreaseStake","claimAllInterest","withdrawStake","txParams","gas","Unit","fromMinUnit","gasLimit","toHexMinUnit","storageLimit","String","storageCollateralized","sendTransaction","console","checkNetwork","callback","layout","wrapperCol","Item","required","validateStatus","help","span","placeholder","e","disabled","dashed","borderColor","isEqualTo","orientation","renderItem","time","Content","App","fallback","path","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","completeDetect","ReactDOM","StrictMode","getElementById","module","exports"],"mappings":"6wwBASaA,EAAkB,IAClBC,EAAW,yBAMXC,EACD,UADCA,EAEH,QAFGA,EAGD,UAHCA,EAID,UCVCC,EAAe,WAC1B,MAAI,qBAAOC,SAE2B,SAAlCC,mIAAYC,mBACZF,OAAOG,SAASC,SAASC,SAAS,UAM3BC,EAAe,SAACC,GAAD,OAC1B,IAAIC,IAAUD,GAAME,aAAab,GAAmBc,YACzCC,EAAS,SAACC,GAAD,OAAU,IAAIJ,IAAUI,GAAMC,UAAU,KAAKH,YACtDI,EAAS,SAACC,GAAD,OACpB,IAAIP,IAAU,KAAKQ,MAAM,IAAIR,IAAUO,GAASF,UAAU,MAAMH,YAG3D,SAASO,EAAmBC,GAAsB,IAAfC,EAAc,uDAAL,GACjD,OAAO,IAAIX,IAAJ,OAAcU,QAAd,IAAcA,OAAd,EAAcA,EAAOE,SAAS,KAClCX,aAAa,IAAID,IAAU,KAAOa,KAAK,IAAIb,IAAU,IAAQW,KAC7DN,UAAU,IAAIL,IAAU,MACxBc,QAAQ,GAGN,IAAMC,EAAyB,WAAkC,IAAjCC,EAAgC,uDAAtB,EAAGC,EAAmB,uDAAN,EACzDC,EAAY,IAAIlB,IAAUgB,GAC1BG,EAAe,IAAInB,IAAUiB,GAC7BG,EAAYF,EAAUG,cAAcF,GACpCG,EAAUF,EACZF,EAAUV,MAAMW,GAAcd,UAAU,GAAGH,WAC3CiB,EAAaX,MAAMU,GAAWb,UAAU,GAAGH,WACzCqB,EAAa,IAAIC,KACrB,IAAIxB,IAAUwB,KAAKC,OAAOZ,KAAe,IAAVS,GAAgBpB,YAE3CwB,EAAW,IAAIF,KACnB,IAAIxB,IAAUwB,KAAKC,OAAOjB,MAAgB,IAAVc,GAAgBpB,YAElD,OAAOkB,EAAYG,EAAaG,GAGrBC,EAAe,SAACC,EAAKC,EAAUC,GAC1C,GAAIF,EAAK,CACP,IAAMG,EAASH,EAAIG,OACnB,OAAe,IAAXD,GAAgBC,GAAUF,EACrBD,EAAII,UAAU,EAAGH,GAGxBD,EAAII,UAAU,EAAGH,GACjB,MACAD,EAAII,UAAUD,EAASD,EAAQC,GAGnC,MAAO,IA+CIE,EAAmB,SAACC,GAAsB,IAAfC,EAAc,uDAAJ,EAChD,OAAO,IAAInC,IAAUkC,GAAQpB,QAAQqB,IC9GxB,MAA0B,sC,gFCSzCC,IACGC,IAAIC,KACJC,KAAK,CACJC,IAAKC,IAAOC,aAAe,KAC3BC,OAAO,EACPC,UAAW,CACTC,GAAI,CACFC,YAAaD,GAEfE,GAAI,CACFD,YAAaC,GAEfC,GAAI,CACFF,YAAaE,GAEfC,GAAI,CACFH,YAAaG,GAEfC,GAAI,CACFJ,YAAaI,IAGjBC,cAAe,CACbC,aAAa,KAIJhB,QAAf,E,OC3BQiB,EAAWC,IAAXD,OACAE,EAAWC,IAAXD,OACFE,EAASlE,IAoDEmE,MAlDjB,WACI,IAAQC,EAAMC,cAAND,EACFE,EAAUC,cACVC,EAAUC,cACVC,EAAgBR,GAAsB,SAAZM,IAAyBN,GAAsB,MAAZM,EAEnE,OACE,eAACR,EAAD,CAAQW,MAAO,CAACC,MAAO,OAAQC,OAAQ,cAAeC,QAAS,GAA/D,UACGZ,GACC,qBAAKa,UAAU,oIAAf,SACGX,EAAE,sBAGP,sBAAKW,UAAU,sEAAf,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SAAcZ,EAAE,qBAChB,sBAAKW,UAAU,oBAAf,UACE,eAAC,IAAD,CAAQJ,MAAO,CAAEM,YAAa,QAASC,aAAcrC,EAAKsC,SAAWC,SAAU,SAAAnC,GAAG,OAAIJ,EAAKwC,eAAepC,IAA1G,UACA,cAACa,EAAD,CAAQ3C,MAAM,KAAd,sCACE,cAAC2C,EAAD,CAAQ3C,MAAM,KAAd,qBACA,cAAC2C,EAAD,CAAQ3C,MAAM,KAAd,wBACA,cAAC2C,EAAD,CAAQ3C,MAAM,KAAd,wBACA,cAAC2C,EAAD,CAAQ3C,MAAM,KAAd,uBAGDmD,GAAS,8BAAMA,KACdA,GAAS,cAAC,IAAD,CAAQgB,KAAK,UAAUC,QAASC,IAAhC,SAA8CpB,EAAE,iCAI9DM,GACCe,uBACE,qBAAKV,UAAU,qEAAf,SACE,sBAAKA,UAAU,mLAAf,UACI,qBAAKA,UAAU,sBAAsBW,IAAKC,EAAUC,IAAI,mBACxD,mBAAGb,UAAU,6DAAb,SAA2EX,EAAE,kBAC7E,mBAAGW,UAAU,0DAAb,SAEMX,EADHF,GAAsB,SAAZM,EACL,yCACE,+CAKdqB,SAASC,U,kGC5CjBC,GAAY/F,ILJgB,EADA,KKM9BgG,GAAShG,IAAiBiG,IAAWC,QAAQC,IAAMF,IAAWG,QAAQD,IACpC,SAAlCjG,mIAAYC,oBACd6F,GAAS/F,OAAOG,SAASiG,OAAS,QAGpC,IAAMC,GAAU,IAAIC,WAAQ,CAC1BC,IAAKR,GACLD,eAGIU,GAA+BR,IAAWC,QAAQQ,mBAClDC,GAA+BV,IAAWG,QAAQM,mBAClDE,GAAwB5G,IAC1ByG,GACAE,GAEEE,GAAqB,SAACvC,GAAD,OACzBgC,GAAQQ,SAAS,CACfC,IAAKC,KACL1C,QAASA,KAGP2C,GAAyBX,GAAQQ,SAAS,CAC9CC,IAAKG,KACL5C,QAASsC,KAGEO,GAAyB,uCAAG,WAAO7C,GAAP,mBAAA8C,EAAA,sEACTP,GAAmBvC,GADV,cACjC+C,EADiC,YAEpBC,UAFoB,SAEHD,EAAgBE,aAFb,0BAEjCA,EAFiC,KAEbC,IAFa,0BAGflB,GAAQmB,SAASC,KAAK,iBAAkBH,GAHzB,eAGjCI,EAHiC,yBAIhCA,GAJgC,4CAAH,sDC4GvBC,OAvIf,WACE,IAAQxD,EAAMC,cAAND,EAER,EAAgCyD,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA2BF,oBAAS,GAApC,mBAAOG,EAAP,KAAeC,EAAf,KACMC,EAAUC,cACVC,EAAiB7D,cAQjB8D,EAAU,CACd,CACEC,MAAOlE,EAAE,eACTmE,IAAK,SACLC,UAAW,SACX5D,MAAM,IACN6D,OAAQ,SAACC,GAAD,OACN,qCAEa,UAATA,GAAkB,cAAC,IAAD,CAAKC,MAAM,QAAX,SAAoBvE,EAAE,sBAG/B,UAATsE,GAAkB,cAAC,IAAD,CAAKC,MAAM,QAAX,SAAoBvE,EAAE,uBAG/B,YAATsE,GAAoB,cAAC,IAAD,CAAKC,MAAM,UAAX,SAAsBvE,EAAE,8BAKpD,CACEkE,MAAOlE,EAAE,aACToE,UAAW,OACXD,IAAK,OACL3D,MAAM,KAER,CACE0D,MAAOlE,EAAE,qBACToE,UAAW,iBACXD,IAAK,iBACL3D,MAAM,KAER,CACE0D,MAAOlE,EAAE,YACToE,UAAW,MACXD,IAAK,MACL3D,MAAM,KAER,CACE0D,MAAOlE,EAAE,wBACToE,UAAW,MACXD,IAAK,MACL3D,MAAM,KAER,CACE0D,MAAO,GACPC,IAAK,SACL3D,MAAM,GACN6D,OAAQ,SAACG,EAAMC,GACb,OACE,cAAC,IAAD,CAAOC,KAAK,SAAZ,SACE,cAACC,GAAA,EAAD,CACExD,QAAS,kBA3DA,SAACsD,GAChBT,EACFF,EAAQc,KAAR,uBAAsBH,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAQvE,UAE9BkB,cAuDuByD,CAAaJ,IAC5BlE,MAAO,CAAEuE,SAAU,OAAQP,MAAO,eAQ9CQ,qBAAU,WAAM,4CACd,8BAAA/B,EAAA,6DACEa,GAAW,GADb,kBAGuBhB,GAAuBmC,WAH9C,cAGUC,EAHV,gBAIuBC,EAAaD,GAJpC,OAIUxI,EAJV,OAKIqH,EAAQc,KAAR,gBAAsBnI,EAAK,GAAGyD,UAC9ByD,EAAYlH,GACZoH,GAAW,GAPf,kDASIF,EAAY,IACZE,GAAW,GAVf,2DADc,uBAAC,WAAD,wBAcdsB,KACC,IAEH,IAAMD,EAAY,uCAAG,WAAOD,GAAP,mBAAAjC,EAAA,6DACboC,EAAM,GACNC,EAAS,GACfJ,EAAKK,SAAQ,SAACC,GACZ,IAAMrF,EAAUqF,EAAK,GACrBF,EAAOT,KAAK7B,GAA0B7C,OALrB,kBAQIsF,QAAQC,IAAIJ,GARhB,OAQXK,EARW,OASnBT,EAAKK,SAAQ,SAACC,EAAMI,GAAW,IAAD,IAC5BP,EAAIR,KAAK,CACPT,IAAKoB,EAAK,GACVrF,QAASqF,EAAK,GACdK,eAAgBzJ,EAAaoJ,EAAK,IAClCM,KAAMN,EAAK,GACXO,IAAKtJ,EAAO+I,EAAK,IAAM,IACvBQ,IAAKpJ,EAAO4I,EAAK,IAAM,IACvBjB,OAA+C,OAAvC,UAAAoB,EAAOC,UAAP,mBAAerB,cAAf,eAAuB0B,mBAjBhB,kDAqBjBf,EAAKK,SAAQ,SAACC,EAAMI,GAClBP,EAAIR,KAAK,CACPT,IAAKoB,EAAK,GACVrF,QAASqF,EAAK,GACdK,eAAgBzJ,EAAaoJ,EAAK,IAClCM,KAAMN,EAAK,GACXO,IAAKtJ,EAAO+I,EAAK,IAAM,IACvBQ,IAAKpJ,EAAO4I,EAAK,IAAM,IACvBjB,OAAQ,eA7BK,iCAkCZc,GAlCY,0DAAH,sDAoClB,OACE,qBAAKzE,UAAU,iDAAf,SACE,cAAC,IAAD,CAAOsD,QAASA,EAASgC,WAAYvC,EAAUwC,YAAY,EAAOxB,KAAK,SAASd,QAASA,O,4GCdhFhE,OAnHf,YAA6B,IAAX0E,EAAU,EAAVA,OACTtE,EAAKC,cAALD,EAEDmG,EAAgBC,cAAhBD,YACAlD,EAAkBR,GAAmB0D,GAC3C,EAAkC1C,mBAAS,GAA3C,mBAAO4C,EAAP,KAAkBC,EAAlB,KACA,EAAwC7C,mBAAS,GAAjD,mBAAO8C,EAAP,KAAqBC,EAArB,KACA,EAAsB/C,mBAAS,GAA/B,mBAAOqC,EAAP,KAAYW,EAAZ,KACA,EAAqBhD,mBAAS,cAA9B,mBAAOoC,EAAP,KAAYa,EAAZ,KAgCA3B,qBAAU,WAAM,4CACd,gCAAA/B,EAAA,uEAEUqC,EAAS,IACRT,KAAK3B,EAAgB0D,eAC5BtB,EAAOT,KAAK3B,EAAgB2D,WAC5BvB,EAAOT,KAAK3B,EAAgB4D,YALhC,SAMuBrB,QAAQC,IAAIJ,GANnC,OAMU5I,EANV,OAOUkK,EAAclK,EAAK,GACzB6J,EAAanK,EAAawK,EAAY,KACtCH,EACE,IAAIM,QACF,IAAIzK,IAAUsK,EAAY,IAAI9J,MAAM8J,EAAY,IAAIpK,YACpDwK,SAEJN,EAAOjK,EAAOC,EAAK,KACnBiK,EAAQjK,EAAK,IAfjB,6GADc,uBAAC,WAAD,wBAmBduK,KAEC,CAACb,IAEJ,IAAMc,EAAY,CAChBC,gBAAiB,UACjBC,aAAc,OACd5C,MAAO,OACP6C,WAAY,OAERC,EAAgB,CAAE9C,MAAO,OAAQ+C,QAAS,OAChD,OACE,sBAAK3G,UAAU,OAAf,UACE,qBAAKA,UAAU,eAAf,SACE,cAAC,KAAD,CACEuD,MAAOlE,EAAE,eACTuH,UAAU,EACVhH,MAAO0G,EACPO,UAAWH,EAJb,SA/Da,SAAC/C,GAClB,IAAImD,EAAK,KACLlD,EAAM,GACNC,EAAK,GACT,OAAOF,GACL,KAAK3I,EACH8L,EAAK,cAACC,GAAA,EAAD,CAAcC,MAAI,IACvBpD,EAAM,UACNC,EAAKxE,EAAE,uBACP,MACF,KAAKrE,EACH8L,EAAK,cAACG,GAAA,EAAD,IACLrD,EAAM,UACNC,EAAKxE,EAAE,oBACP,MACF,KAAKrE,EACH8L,EAAK,cAACI,GAAA,EAAD,IACLtD,EAAM,QACNC,EAAKxE,EAAE,qBACP,MACF,KAAKrE,EACH8L,EAAK,6BACLlD,EAAM,UACNC,EAAKxE,EAAE,uBAIX,OAAO,cAAC,IAAD,CAAKuE,MAAOA,EAAOkD,KAAMA,EAAzB,SAAgCjD,IA0ChCsD,CAAaxD,OAGlB,qBAAK3D,UAAU,cAAf,SACE,cAAC,KAAD,CACEuD,MAAOlE,EAAE,aACTuH,UAAU,EACVhH,MAAO0G,EACPO,UAAWH,EAJb,SAME,8BAAMxB,QAGV,qBAAKlF,UAAU,cAAf,SACE,cAAC,KAAD,CACEuD,MAAOlE,EAAE,qBACTuH,UAAU,EACVhH,MAAO0G,EACPO,UAAWH,EAJb,SAME,8BAAMhB,QAGV,qBAAK1F,UAAU,cAAf,SACE,cAAC,KAAD,CAAMuD,MAAOlE,EAAE,sBAAuBuH,UAAU,EAAOhH,MAAO0G,EAAWO,UAAWH,EAApF,SACE,8BAAM/I,EAAmBiI,EAAa,SAG1C,qBAAK5F,UAAU,SAAf,SACE,cAAC,KAAD,CAAMuD,MAAOlE,EAAE,YAAauH,UAAU,EAAOhH,MAAO0G,EAAWO,UAAWH,EAA1E,SACE,8BAAMvB,EAAM,c,UC1EPiC,OA9Cf,YAA0D,IAAnC7G,EAAkC,EAAlCA,KAAM8G,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,WAAYC,EAAO,EAAPA,KACzClI,EAAKC,cAALD,EAEHmI,EAAU,6BACVC,EAAS,GACb,OAAQlH,GACN,IAAK,QACHkH,EAASpI,EAAE,sBACXmI,EACE,gCACE,qBAAKxH,UAAU,uDAAf,SACGX,EAAE,0BAEL,qBAAKW,UAAU,YAAf,SAA4BX,EAAE,0BAC9B,qBAAKW,UAAU,YAAf,SAA4BX,EAAE,0BAC9B,qBAAKW,UAAU,YAAf,SAA4BX,EAAE,6BAGlC,MACF,IAAK,UACHoI,EAASpI,EAAE,wBACXmI,EACE,gCACE,8BAAMnI,EAAE,4BACR,8BAAMA,EAAE,4BACR,8BAAMA,EAAE,+BAOhB,OACE,cAAC,KAAD,CACEkE,MAAM,UACN8D,QAASA,EACTE,KAAMA,EACNE,OAAQA,EACRC,SAAU,WACRJ,GAAW,IANf,SASGE,KCLQG,GAlCC,SAAC,GAA6C,IAAD,IAA1CN,eAA0C,SAAzBO,EAAyB,EAAzBA,OAAQN,EAAiB,EAAjBA,WACnCjI,EAAKC,cAALD,EACDoC,ERyDqB,WAC3B,IACmC,EAD/BoG,EAAiB,GACjB,qBAAO3M,SACT2M,EAAc,UAAG3M,OAAOqG,eAAV,aAAG,EAAgBsG,gBAEnC,IAAIpG,EAAM,GACV,OAAQoG,GACN,IAAK,OAYL,QACEpG,EAAM1G,EACN,MAXF,IAAK,IACH0G,EDjE0B,iCCkE1B,MACF,IAAK,OACHA,EDnEyB,6CCoEzB,MACF,IAAK,OACHA,EDrE0B,gCC2E9B,OAAOA,EQhFKqG,GACZ,OACE,mCACE,cAAC,KAAD,CACEC,cAAc,EACdV,QAASA,EACTK,SAAU,WAAKJ,GAAW,IAC1BU,OAAQ,KAJV,SAMI,sBAAKhI,UAAU,8BAAf,UACE,qBAAKW,IClBF,qjKDkBmBE,IAAI,UAAUb,UAAU,SAC9C,qBAAKA,UAAU,OAAf,SACCX,EAAE,mCAEH,sBAAKW,UAAU,GAAf,UACE,+BACCX,EAAE,8BAEFuI,GAAQ,mBACPK,KAAI,UAAKxG,EAAL,wBAAwBmG,GAC5BM,OAAO,SACPlI,UAAU,eACVmI,IAAI,sBAJG,SAMN9K,EAAauK,EAAQ,EAAG,gBEEnCzI,GAASlE,IA0iBAmN,OAxiBf,WACE,IAAO/I,EAAKC,cAALD,EACDI,EAAUC,cACV2D,EAAiB7D,cACvB,EAAe6I,KAAKC,UAAbC,EAAP,oBACMC,EAAWC,cACXC,EAAO,OAAGF,QAAH,IAAGA,OAAH,EAAGA,EAAUG,sBAAsB,GAC1CC,EVgDc,SAAChL,GAErB,GADiB,IAAIlC,IAAUkC,GAEpBiL,uBACP,IAAInN,IAAUZ,GAAmByB,KDjFV,ICmFzB,CACA,IAAMuM,EAAWC,KAAKC,MACpB,IAAItN,IAAUkC,GACX1B,MDtFoB,GCuFpBH,UAAUjB,GACVc,YAEL,OAAO,IAAIF,IAAUoN,GAAUnN,aAAab,GAAmBc,WAEjE,OAAO,EU/DgBqN,CAAOP,GACzBlD,EAAeC,cAAfD,YACClD,EAAkBR,GAAmB0D,GAC3C,EAA4B1C,mBAAS9H,GAArC,mBAAO2I,EAAP,KAAeuF,EAAf,KACA,EAAkCpG,mBAAS,GAA3C,mBAAOqG,EAAP,KAAkBC,EAAlB,KACA,EAA8BtG,mBAAS,GAAvC,mBAAOuG,EAAP,KAAgBC,EAAhB,KACA,EAAsBxG,mBAAS,GAA/B,mBAAOsC,EAAP,KAAYmE,EAAZ,KACA,EAA0CzG,mBAAS,GAAnD,mBAAO0G,EAAP,KAAsBC,EAAtB,KACA,EAA4C3G,mBAAS,GAArD,mBAAO4G,EAAP,KAAuBC,GAAvB,KACA,GAA0C7G,mBAAS,IAAnD,qBAAO8G,GAAP,MAAsBC,GAAtB,MACA,GAA8C/G,mBAAS,IAAvD,qBAAOgH,GAAP,MAAwBC,GAAxB,MACA,GAAsCjH,mBAAS,IAA/C,qBAAOkH,GAAP,MAAoBC,GAApB,MACA,GAAoDnH,mBAAS,GAA7D,qBAAOoH,GAAP,MAA2BC,GAA3B,MACA,GAAoDrH,mBAAS,IAA7D,qBAAOsH,GAAP,MAA2BC,GAA3B,MACA,GAAsCvH,mBAAS,IAA/C,qBAAOwH,GAAP,MAAoBC,GAApB,MACA,GAA8CzH,oBAAS,GAAvD,qBAAO0H,GAAP,MAAwBC,GAAxB,MACA,GAAkD3H,oBAAS,GAA3D,qBAAO4H,GAAP,MAA0BC,GAA1B,MACA,GAAwC7H,oBAAS,GAAjD,qBAAO8H,GAAP,MAAqBC,GAArB,MACA,GAA4B/H,mBAAS,IAArC,qBAAO8E,GAAP,MAAekD,GAAf,MACA,GAAgDhI,mBAAS,SAAzD,qBAAOiI,GAAP,MAAyBC,GAAzB,MACA,GAA4ClI,mBAAS,IAArD,qBAAOmI,GAAP,MAAuBC,GAAvB,MACA,GAAoDpI,mBAAS,SAA7D,qBAAOqI,GAAP,MAA2BC,GAA3B,MACA,GAAgDtI,mBAAS,IAAzD,qBAAOuI,GAAP,MAAyBC,GAAzB,MACA,GAAgDxI,oBAAS,GAAzD,qBAAOyI,GAAP,MAAyBC,GAAzB,MACA,GAAoD1I,oBAAS,GAA7D,qBAAO2I,GAAP,MAA2BC,GAA3B,MACA,GAAkC5I,oBAAS,GAA3C,qBAAO6I,GAAP,MAAkBC,GAAlB,MACA,GAAwC9I,oBAAS,GAAjD,qBAAO+I,GAAP,MAAqBC,GAArB,MAEA1H,qBAAU,WAAM,4CACd,sCAAA/B,EAAA,6DACQqC,EAAS,IACRT,KAAK1C,GAAQmB,SAASC,KAAK,kBAClC+B,EAAOT,KAAK1C,GAAQmB,SAASC,KAAK,wBAHpC,SAIqBkC,QAAQC,IAAIJ,GAJjC,OAIQ5I,EAJR,OAKQiQ,EAAe,IAAIrQ,KAAU,UAAAI,EAAK,UAAL,eAASkQ,cAAe,GAAGpQ,WACxDqQ,EAAiB,IAAIvQ,KACzB,UAAAI,EAAK,UAAL,eAASoQ,sBAAuB,GAChCtQ,WACFuO,GAAsB4B,GACtB1B,GACE5N,EAAuBwP,EAAgBF,GAAcI,kBAXzD,6CADc,uBAAC,WAAD,wBAed9F,KACC,IAEHjC,qBAAU,WAGJoH,IAFA7H,KACEsH,MAQL,CAACA,GAAgBtH,IAEpBS,qBAAU,WAGJsH,IAFA/H,KACE0H,MAQL,CAACA,GAAkB1H,IAEtBS,qBAAU,WAAM,4CACd,WAAyB7E,GAAzB,iBAAA8C,EAAA,+EAE6BD,GAA0B7C,GAFvD,OAEU6M,EAFV,OAGElD,EACqC,OAAnC,UAAAkD,EAAWzI,cAAX,eAAmB0B,cACfrK,EACAA,GANR,gDASIkO,EAAUlO,GATd,0DADc,uBAAC,SAAD,2BAadqL,CAAUb,KACT,CAACA,IAEJpB,qBAAU,WACR,IACE,IAAMiI,EAAcC,OAAO1C,IAEzByC,GAAevR,GACfuR,GAAezD,GACfyD,EAAcvR,IAAsB,GAEpCkQ,GAAoB,SACpBE,GAAkB,MAElBF,GAAoB,SACpBE,GAAkB7L,EAAE,uBAEtB,MAAOkN,GACPvB,GAAoB,SACpBE,GAAkB7L,EAAE,yBAErB,CAACuJ,EAAgBgB,GAAevK,IAEnC+E,qBAAU,WACR,IACE,IAAMoI,EAASF,OAAOxC,IAEpB0C,GAAU1R,GACV0R,GAAUhD,GACVgD,EAAS1R,IAAsB,GAE/BsQ,GAAsB,SACtBE,GAAoB,MAEpBF,GAAsB,SACtBE,GAAoBjM,EAAE,uBAExB,MAAOkN,GACPnB,GAAsB,SACtBE,GAAoBjM,EAAE,yBAEvB,CAACmK,EAAeM,GAAiBzK,IASpC,IAAMoN,GAAgBC,sBAAW,sBAAC,gCAAArK,EAAA,6DAChCuJ,IAAa,GADmB,UAGxBlH,EAAS,IACRT,KAAK3B,EAAgB0H,YAAY3G,IACxCqB,EAAOT,KAAK3B,EAAgBqK,aAAatJ,IACzCqB,EAAOT,KAAK3B,EAAgBsK,sBAC5BlI,EAAOT,KAAK3B,EAAgBuK,aAAaxJ,IAPX,SAQXwB,QAAQC,IAAIJ,GARD,OAQxB5I,EARwB,OASxBgR,EAAUhR,EAAK,GACrBmO,GAAe6C,GACf1D,EACE,IAAI1N,IAAUoR,EAAQ,IAAM,GACzBnR,aAAab,GACbwB,SAAS,KAEdmN,EAAiBjO,EAAasR,EAAQ,IAAM,IAC5CnD,GAAkBnO,EAAasR,EAAQ,IAAM,IAC7CxD,EACE3L,EACE,IAAIwI,QAAK,IAAIzK,IAAUI,EAAK,IAAIQ,SAAS,KAAK8J,QAC9C,IAGJmD,EAAOvN,EAAOF,EAAK,KACnByO,GAAewC,GAAcjR,EAAK,KAClC8P,IAAa,GA1BiB,kDA4B9BA,IAAa,GA5BiB,0DA+B/B,CAACvI,EAAgB6G,KAEpB9F,qBAAU,WACHyH,IACDxI,IACFoJ,KACAX,IAAgB,MAGjB,CAACpD,IAEJtE,qBAAU,WACJf,EACFoJ,MAlDFrD,EAAa,GACbE,EAAW,GACXG,EAAiB,GACjBE,GAAkB,MAoDjB,CAACtG,EAAgB6G,KAEpB,IAAM6C,GAAgB,SAAAC,GACpB,GAAyB,IAArBA,EAAUvP,OAAc,MAAO,GACnC,IAAMgH,EAAM,GAaZ,OAZAuI,EAAUrI,SAAQ,SAAAC,GAChB,IAAMoH,EAAc,IAAItQ,IAAUkJ,EAAK,IAAIhJ,WACvCoQ,EAAc9B,IAChBzF,EAAIR,KAAK,CACPrG,OAAQpC,EAAaoJ,EAAK,IAC1BqI,QAASxQ,EACPuP,EACA9B,IACAiC,sBAID1H,GAWHyI,GAAM,uCAAG,WAAM3M,GAAN,+BAAA8B,EAAA,yDACRgB,EADQ,uBAEX8J,KAAQZ,MAAM,yBAFH,mCAOPzQ,EAAO,GACPsR,EAAe,GACfhR,EAAQ,EATD,KAUHmE,EAVG,OAWJ,UAXI,QA2BJ,YA3BI,QAuCJ,UAvCI,QAgDJ,aAhDI,gCAYPnE,EAAQ,IAAIV,IAAUkO,IACnBjO,aADK,SACQ,GAAM,KACnBW,SAAS,IACN+Q,EAAY,IAAI3R,IAAUkO,IAC7B7N,UAAUjB,GACVwB,SAAS,IAjBL,UAkBcgG,EAClBgL,cAAcD,GACdE,yBAAyB,CACxBC,KAAMnK,EACNjH,UAtBG,eAkBPgR,EAlBO,OAwBPtR,EAAOwG,EAAgBgL,cAAcD,GAAWvR,KAChDgQ,IAAgB,GAzBT,oCA4BP1P,EAAQ,EACFqR,EAAc,IAAI/R,IAAUoO,IAC/B/N,UAAUjB,GACVwB,SAAS,IA/BL,UAgCcgG,EAClBoL,cAAcD,GACdF,yBAAyB,CACxBC,KAAMnK,IAnCH,eAgCP+J,EAhCO,OAqCPtR,EAAOwG,EAAgBoL,cAAcD,GAAa3R,KArC3C,oCAwCPM,EAAQ,EAxCD,UAyCckG,EAClBqL,mBACAJ,yBAAyB,CACxBC,KAAMnK,IA5CH,eAyCP+J,EAzCO,OA8CPtR,EAAOwG,EAAgBqL,mBAAmB7R,KA9CnC,oCAiDPM,EAAQ,EAjDD,UAkDckG,EAClBsL,cAAc,IAAIlS,IAAUsO,GAAY,IAAI1N,SAAS,KACrDiR,yBAAyB,CACxBC,KAAMnK,IArDH,eAkDP+J,EAlDO,OAuDPtR,EAAOwG,EAAgBsL,cACrB,IAAIlS,IAAUsO,GAAY,IAAI1N,SAAS,KACvCR,KAzDK,wEA8DL+R,EAAW,CACf5N,GAAIsC,UAAOhD,QAAQiG,EAAa8G,OAAO7M,IACvC3D,OACAgS,IAAKC,IAAKC,YACR7R,GAA+B,QAAZ,EAAAiR,SAAA,eAAca,WAAY,IAC7CC,eACFC,aAAcJ,IAAKC,YACjB7R,EAAmBiS,QAAmB,QAAZ,EAAAhB,SAAA,eAAciB,wBAAyB,KACjEH,eACF9R,MAAO2R,IAAKC,YAAY5R,GAAO8R,gBAE7B1D,IACFC,IAAmB,GAEjBC,IACFC,IAAqB,GA7EZ,UA+EU2D,YAAgBT,GA/E1B,QA+ELjG,EA/EK,OAgFXkD,GAAUlD,GACViD,IAAgB,GAjFL,kDAmFX0D,QAAQhC,MAAM,QAAd,MAnFW,0DAAH,sDAuFNiC,GAAe,SAAAC,GACdtP,IAAsB,SAAZM,IAAyBN,IAAsB,MAAZM,GAI1B,oBAAbgP,GAAyBA,KAGtC,OACE,sBAAKzO,UAAU,qBAAf,UACG2L,GACC,qBAAK3L,UAAU,mDAAf,SACE,cAAC,IAAD,MAGF,sBAAKA,UAAU,oBAAf,UAER,2BAAUJ,MAAO,CAAE6G,WAAY,OAAO7C,MAAO,SAA7C,UACU,0CACA,+BAIH,oBAAKhE,MAAO,CAAE6G,WAAY,OAAO7C,MAAO,OAAxC,wHAKG,oJAGT,mFAGA,4JAMS,cAAC,GAAD,CAAQD,OAAQA,IAChB,qBAAK3D,UAAU,2BAAf,SACE,sBAAKA,UAAU,SAAf,UACE,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,4FAAf,SACE,eAAC,KAAD,CACE0O,OAAO,WACPnG,KAAMA,EACNoG,WAAY,CAAC/O,MAAO,CAACgE,MAAO,UAC5BhE,MAAO,CAACgE,MAAO,SAJjB,UAME,qBAAK5D,UAAU,qCAAf,SACGX,EAAE,wBAEL,qBAAKW,UAAU,OAAf,SAAuBX,EAAE,yBACzB,cAAC,KAAKuP,KAAN,CACEC,UAAQ,EACRC,eAAgB/D,GAChBgE,KAAM9D,GAHR,SAKE,eAAC,KAAD,WACE,cAAC,KAAD,CAAK+D,KAAM,GAAX,SACE,cAAC,KAAD,CACEC,YAAa5P,EAAE,yBAEfjD,MAAOwN,GACPvJ,SAjKJ,SAAA6O,GACpBrF,GAAiBqF,EAAEhH,OAAO9L,YAmKN,cAAC,KAAD,CAAK4S,KAAM,EAAX,SACE,cAAC,IAAD,CACExO,QAAS,WACPqJ,GAAiBjB,IAFrB,SAKGvJ,EAAE,qBAKX,gCACE,+BAAOA,EAAE,kBACT,sBAAMW,UAAU,iBAAhB,SAAkC0I,IAClC,2CAEF,qBAAK1I,UAAU,YAAf,SACE,cAAC,IAAD,CACEO,KAAK,UACLwD,KAAK,SACLvD,QAAS,WACPgO,IAAa,kBAAM/D,IAAmB,OAExC0E,SAAU5D,GANZ,SAQGlM,EAAE,kBAGP,cAAC,KAAD,CAAS+P,QAAM,EAACxP,MAAO,CAACyP,YAAa,WACrC,qBAAKrP,UAAU,OAAf,SAAuBX,EAAE,2BACzB,cAAC,KAAKuP,KAAN,CACEC,UAAQ,EACRC,eAAgB3D,GAChB4D,KAAM1D,GAHR,SAKE,eAAC,KAAD,WACE,cAAC,KAAD,CAAK2D,KAAM,GAAX,SACE,cAAC,KAAD,CACEC,YAAa5P,EAAE,yBACfjD,MAAO0N,GACPzJ,SAxMF,SAAA6O,GACtBnF,GAAmBmF,EAAEhH,OAAO9L,YA0MR,cAAC,KAAD,CAAK4S,KAAM,EAAX,SACE,cAAC,IAAD,CACExO,QAAS,WACPuJ,GAAmBP,IAFvB,SAKGnK,EAAE,qBAMX,gCACE,+BAAOA,EAAE,sBACT,sBAAMW,UAAU,iBAAhB,SAAkCwJ,IAClC,2CAEF,qBAAKxJ,UAAU,YAAf,SACE,cAAC,IAAD,CACEO,KAAK,UACLwD,KAAK,SACLvD,QAAS,WACPgO,IAAa,kBAAM7D,IAAqB,OAE1CwE,SAAU1D,GANZ,SAQGpM,EAAE,yBAKX,sBAAKW,UAAU,iFAAf,UACE,qBAAKA,UAAU,0CAAf,SACGX,EAAE,kBAEL,sBAAKW,UAAU,OAAf,UACE,+BAAOX,EAAE,oBACT,sBAAMW,UAAU,iBAAhB,SAAkCmJ,IAClC,2CAEF,sBAAKnJ,UAAU,OAAf,UACE,+BAAOX,EAAE,qBACT,sBAAMW,UAAU,iBAAhB,SAAkCqJ,IAClC,wCACA,sBAAMrJ,UAAU,OAAhB,SACE,cAAC,IAAD,CACEO,KAAK,UACLwD,KAAK,QACLvD,QAAS,WACPgO,IAAa,kBAAMtB,GAAO,aAE5BiC,SAAU,IAAIzT,IAAU2N,GAASiG,UAAU,GAN7C,SAQGjQ,EAAE,qBAIT,sBAAKW,UAAU,kBAAf,UACE,+BAAOX,EAAE,2BACT,+BAAO+K,QAET,sBAAKpK,UAAU,OAAf,UACE,+BAAOX,EAAE,0BACT,sBAAMW,UAAU,iBAAhB,mBAAqCoF,EAArC,WAEF,cAAC,KAAD,CAASgK,QAAM,EAACxP,MAAO,CAACyP,YAAa,WACrC,gCACE,+BAAOhQ,EAAE,uBACT,sBAAMW,UAAU,iBAAhB,SAAkC0J,IAClC,wCACA,sBAAM1J,UAAU,OAAhB,SACE,cAAC,IAAD,CACEO,KAAK,UACLwD,KAAK,QACLvD,QAAS,WACPgO,IAAa,kBAAMtB,GAAO,gBAE5BiC,UAAWzF,EANb,SAQGrK,EAAE,8BAMb,sBAAKW,UAAS,UAAKsK,GAAY7M,OAAS,EAAI,QAAU,UAAtD,UACE,cAAC,KAAD,CACE2R,QAAM,EACNG,YAAY,OACZ3P,MAAO,CAACyP,YAAa,QAASzL,MAAO,SAHvC,SAKGvE,EAAE,2BAEL,cAAC,KAAD,CACEuH,UAAQ,EACRtB,WAAYgF,GACZkF,WAAY,SAAA5K,GAAI,OACd,eAAC,KAAKgK,KAAN,WACE,qBAAK5O,UAAU,aAAf,mBAAgC4E,EAAKhH,OAArC,UACA,qBAAKoC,UAAU,aAAf,SACGX,EAAE,uBAAwB,CAACoQ,KAAM7K,EAAKqI,6BA3M3D,IAsNE,cAAC,GAAD,CACE5F,QAASmD,GACTlD,WAAYmD,GACZlK,KAAK,QACLgH,KAAM,WACJ2F,GAAO,YAGX,cAAC,GAAD,CACE7F,QAASqD,GACTpD,WAAYqD,GACZpK,KAAK,UACLgH,KAAM,WACJ2F,GAAO,cAGX,cAAC,GAAD,CACE7F,QAASuD,GACTtD,WAAYuD,GACZjD,OAAQA,SC7jBR8H,GAAYxQ,IAAZwQ,QAmCOC,OAjCf,WACE,OACE,cAAC,WAAD,CACEC,SACE,qBAAK5P,UAAU,iDAAf,SACE,cAAC,IAAD,CAAMA,UAAU,gBAHtB,SAOE,cAAC,IAAD,UACE,cAAC,IAAD,CAAQA,UAAU,SAAlB,SACE,sBAAKA,UAAU,kDAAf,UACE,cAAC,EAAD,IACA,cAAC0P,GAAD,CAAS9P,MAAO,CAAEG,QAAS,YAAYwG,gBAAgB,WAAvD,SACE,8BACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOsJ,KAAK,IAAIC,OAAK,EAArB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,KAAK,qBAAqBC,OAAK,EAAtC,SACE,cAAC,GAAD,uBCnBLC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCCdQ,cAAiBN,MAAK,WACpBO,IAAS/M,OACP,cAAC,IAAMgN,WAAP,UACE,cAAC,GAAD,MAEF5P,SAAS6P,eAAe,YAQ5BZ,M,iBCpBAa,EAAOC,QAAU,CACfzS,YAAa,KACb+C,QAAS,CACPQ,mBAAoB,qCACpBP,IAAK,8BACLJ,UAAW,GAEbK,QAAS,CACRM,mBAAoB,iDACnBP,IAAK,8BACLJ,UAAW,S","file":"static/js/main.bf4457e5.chunk.js","sourcesContent":["export const TypeConnectWallet = {\n    uninstalled: 'uninstalled',\n    loading: 'loading',\n    error: 'error',\n    success: 'success',\n}\n\nexport const NETWORK_ID_MAINNET = 1029\nexport const NETWORK_ID_TESTNET = 1\nexport const CFX_BASE_PER_VOTE=1000\nexport const SCAN_URL = \"https://confluxscan.io\"\nexport const SCAN_URL_TESTNET = \"https://testnet.confluxscan.io\"\nexport const SCAN_URL_DEVENT = \"https://devnet-scantest.confluxnetwork.org\"\nexport const SCAN_URL_POS_DEV = \"https://posrc.confluxscan.net\"\nexport const RemainderAmount=1 // you must have 1 cfx in wallet to pay gas fee\n\nexport const StatusPosNode={\n    loading:'loading',\n    error:'error',\n    success:'success',\n    warning:'warning'\n}","import BigNumber from \"bignumber.js\";\r\nimport {\r\n  CFX_BASE_PER_VOTE,\r\n  SCAN_URL,\r\n  SCAN_URL_TESTNET,\r\n  SCAN_URL_DEVENT,\r\n  SCAN_URL_POS_DEV,\r\n  RemainderAmount,\r\n} from \"../constants\";\r\n\r\nexport const isTestNetEnv = () => {\r\n  if (typeof window !== `undefined`) {\r\n    return (\r\n      process.env.REACT_APP_TestNet === \"true\" ||\r\n      window.location.hostname.includes(\"test\")\r\n    );\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const getCfxByVote = (vote) =>\r\n  new BigNumber(vote).multipliedBy(CFX_BASE_PER_VOTE).toNumber();\r\nexport const getApy = (data) => new BigNumber(data).dividedBy(100).toNumber();\r\nexport const getFee = (userFee) =>\r\n  new BigNumber(100).minus(new BigNumber(userFee).dividedBy(100)).toNumber();\r\n\r\n// add 10% by default\r\nexport function calculateGasMargin(value, margin = 0.1) {\r\n  return new BigNumber(value?.toString(10))\r\n    .multipliedBy(new BigNumber(10000).plus(new BigNumber(10000 * margin)))\r\n    .dividedBy(new BigNumber(10000))\r\n    .toFixed(0);\r\n}\r\n\r\nexport const getDateByBlockInterval = (minuend = 0, subtrahend = 0) => {\r\n  const minuendBn = new BigNumber(minuend);\r\n  const subtrahendBn = new BigNumber(subtrahend);\r\n  const isGreater = minuendBn.isGreaterThan(subtrahendBn);\r\n  const seconds = isGreater\r\n    ? minuendBn.minus(subtrahendBn).dividedBy(2).toNumber()\r\n    : subtrahendBn.minus(minuendBn).dividedBy(2).toNumber();\r\n  const futureDate = new Date(\r\n    new BigNumber(Date.now()).plus(seconds * 1000).toNumber()\r\n  );\r\n  const pastDate = new Date(\r\n    new BigNumber(Date.now()).minus(seconds * 1000).toNumber()\r\n  );\r\n  return isGreater ? futureDate : pastDate;\r\n};\r\n\r\nexport const getEllipsStr = (str, frontNum, endNum) => {\r\n  if (str) {\r\n    const length = str.length;\r\n    if (endNum === 0 && length <= frontNum) {\r\n      return str.substring(0, frontNum);\r\n    }\r\n    return (\r\n      str.substring(0, frontNum) +\r\n      \"...\" +\r\n      str.substring(length - endNum, length)\r\n    );\r\n  }\r\n  return \"\";\r\n};\r\n\r\nexport const getNetworkUrl = () => {\r\n  let networkVersion = \"\";\r\n  if (typeof window !== `undefined`) {\r\n    networkVersion = window.conflux?.networkVersion;\r\n  }\r\n  let url = \"\";\r\n  switch (networkVersion) {\r\n    case \"1029\":\r\n      url = SCAN_URL;\r\n      break;\r\n    case \"1\":\r\n      url = SCAN_URL_TESTNET;\r\n      break;\r\n    case \"1921\":\r\n      url = SCAN_URL_DEVENT;\r\n      break;\r\n    case \"8888\":\r\n      url = SCAN_URL_POS_DEV;\r\n      break;\r\n    default:\r\n      url = SCAN_URL;\r\n      break;\r\n  }\r\n  return url;\r\n};\r\n\r\nexport const getMax = (amount) => {\r\n  const amountBn = new BigNumber(amount);\r\n  if (\r\n    amountBn.isGreaterThanOrEqualTo(\r\n      new BigNumber(CFX_BASE_PER_VOTE).plus(RemainderAmount)\r\n    )\r\n  ) {\r\n    const multiple = Math.floor(\r\n      new BigNumber(amount)\r\n        .minus(RemainderAmount)\r\n        .dividedBy(CFX_BASE_PER_VOTE)\r\n        .toNumber()\r\n    );\r\n    return new BigNumber(multiple).multipliedBy(CFX_BASE_PER_VOTE).toNumber();\r\n  }\r\n  return 0;\r\n};\r\n\r\nexport const getPrecisionAmount=(amount,precision=0)=>{\r\n  return new BigNumber(amount).toFixed(precision)\r\n}\r\n","export default __webpack_public_path__ + \"static/media/not-allow.ecffa81e.png\";","import i18n from 'i18next'\nimport {initReactI18next} from 'react-i18next'\nimport en from './en/translation.json';\nimport zh from './zh/translation.json';\nimport id from './id/translation.json';\nimport ko from './ko/translation.json';\nimport vn from './vn/translation.json';\nimport config from '../../pool.config';\n\ni18n\n  .use(initReactI18next)\n  .init({\n    lng: config.defaultLang || 'en',\n    debug: true,\n    resources: {\n      en: {\n        translation: en\n      },\n      zh: {\n        translation: zh\n      },\n      id: {\n        translation: id\n      },\n      vn: {\n        translation: vn\n      },\n      ko: {\n        translation: ko\n      },\n    },\n    interpolation: {\n      escapeValue: false,\n    },\n  })\n\nexport default i18n\n","import { createPortal } from 'react-dom';\r\nimport { Link} from \"react-router-dom\";\r\nimport { Layout,Button,Select } from 'antd';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {connect as tryActivate, useAccount, useChainId} from '@cfxjs/use-wallet';\r\nimport { isTestNetEnv } from \"../../../utils\";\r\nimport NotAllow from \"../../../images/not-allow.png\";\r\nimport i18n from '../../../../public/locales';\r\n\r\nconst { Option } = Select;\r\nconst { Header } = Layout;\r\nconst isTest = isTestNetEnv();\r\n\r\nfunction HeaderComp() {\r\n    const { t } = useTranslation();\r\n    const address = useAccount();\r\n    const chainId = useChainId();\r\n    const networkError = (isTest && chainId === '1029') || (!isTest && chainId === '1');\r\n\r\n    return (\r\n      <Header style={{width: '100%', height: 'fit-content', padding: 0 }}>\r\n        {isTest &&\r\n          <div className='w-full h-[64px] leading-[64px] text-[#f3504f] bg-[#f3504f] bg-opacity-20 z-[49] text-[16px] text-center border-b border-[#f3504f]'>\r\n            {t('Header.test_note')}\r\n          </div>\r\n        }\r\n        <div className='flex justify-between text-white bg-main-back bg-opacity-0 px-[50px]'>\r\n          <Link to=\"/\">{t('Header.pos_pool')}</Link>\r\n          <div className='flex items-center'>\r\n            <Select style={{ marginRight: '20px'}} defaultValue={i18n.language}  onChange={lng => i18n.changeLanguage(lng)}>\r\n            <Option value=\"zh\">繁体中文</Option>  \r\n              <Option value=\"en\">English</Option>\r\n              <Option value=\"vn\">Vietnamese</Option>\r\n              <Option value=\"id\">Indonesian</Option>\r\n              <Option value=\"ko\">Korean</Option>\r\n         \r\n            </Select>\r\n            {address&&<div>{address}</div>}\r\n            {!address&&<Button type='primary' onClick={tryActivate}>{t('Header.connect_portal')}</Button>}\r\n          </div>\r\n        </div>\r\n\r\n        {networkError &&\r\n          createPortal(\r\n            <div className='fixed top-0 left-0 w-[100vw] h-[100vh] bg-black bg-opacity-25 z-50'>\r\n              <div className='absolute top-[40%] left-[50%] translate-x-[-50%] translate-y-[-50%] flex flex-col justify-center items-center w-[480px] h-[390px] px-[28px] py-[12px] bg-white shadow rounded-md'>\r\n                  <img className=\"w-[340px] h-[240px]\" src={NotAllow} alt=\"not allow imgs\" />\r\n                  <p className='text-[32px] leading-[32px] text-[#333] my-[16px] font-bold'>{t('Header.error')}</p>\r\n                  <p className='text-[16px] leading-[24px] text-[#999] my-0 font-medium'>\r\n                    {isTest && chainId === '1029' ?\r\n                        t('Header.unspport_network_switch_testnet')\r\n                        : t('Header.unspport_network_switch_hydra')\r\n                    }\r\n                  </p>\r\n              </div>\r\n            </div>\r\n            , document.body\r\n          )\r\n        }\r\n      </Header>\r\n    );\r\n  }\r\n  \r\n  export default HeaderComp;","import {\n  Conflux,\n  format,\n  Drip,\n} from \"js-conflux-sdk/dist/js-conflux-sdk.umd.min.js\";\n\nimport { abi as posPoolAbi } from \"./../../../contract/ABI/IPoSPool.json\";\nimport { abi as posManagerAbi } from \"./../../../contract/ABI/PoolManager.json\";\nimport { isTestNetEnv } from \"./index\";\nimport { NETWORK_ID_MAINNET, NETWORK_ID_TESTNET } from \"../constants\";\nimport poolConfig from '../../pool.config';\n\nconst networkId = isTestNetEnv() ? NETWORK_ID_TESTNET : NETWORK_ID_MAINNET;\nlet cfxUrl = isTestNetEnv() ? poolConfig.testnet.RPC : poolConfig.mainnet.RPC;\nif (process.env.REACT_APP_TestNet === \"true\") {\n  cfxUrl = window.location.origin + \"/rpc\";\n}\n\nconst conflux = new Conflux({\n  url: cfxUrl,\n  networkId,\n});\n\nconst posPoolManagerAddressTestnet = poolConfig.testnet.poolManagerAddress;\nconst posPoolManagerAddressMainnet = poolConfig.mainnet.poolManagerAddress;\nconst posPoolManagerAddress = isTestNetEnv()\n  ? posPoolManagerAddressTestnet\n  : posPoolManagerAddressMainnet;\n\nconst getPosPoolContract = (address) =>\n  conflux.Contract({\n    abi: posPoolAbi,\n    address: address,\n  });\n\nconst posPoolManagerContract = conflux.Contract({\n  abi: posManagerAbi,\n  address: posPoolManagerAddress,\n});\n\nexport const getPosAccountByPowAddress = async (address) => {\n  const posPoolContract = await getPosPoolContract(address);\n  const posAddress = format.hex(await posPoolContract.posAddress());\n  const posAccout = await conflux.provider.call(\"pos_getAccount\", posAddress);\n  return posAccout;\n};\nexport {\n  conflux,\n  format,\n  Drip,\n  getPosPoolContract,\n  posPoolManagerContract,\n  posPoolManagerAddress,\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Table, Space, Tag, } from \"antd\";\nimport { RightCircleOutlined } from \"@ant-design/icons\";\nimport { useHistory } from \"react-router-dom\";\nimport { useTranslation } from 'react-i18next';\n\nimport { getCfxByVote, getApy, getFee } from \"../../utils\";\nimport {\n  posPoolManagerContract,\n  getPosAccountByPowAddress,\n} from \"../../utils/cfx\";\nimport {connect as tryActivate, useAccount} from '@cfxjs/use-wallet';\n\nfunction Home() {\n  const { t } = useTranslation();\n\n  const [dataList, setDataList] = useState([]);\n  const [loading,setLoading]=useState(false)\n  const history = useHistory();\n  const accountAddress = useAccount();\n  const gotoPoolPage = (record) => {\n    if (accountAddress) {\n      history.push(`/pool/${record?.address}`);\n    } else {\n      tryActivate();\n    }\n  };\n  const columns = [\n    {\n      title: t(\"Home.status\"),\n      key: \"status\",\n      dataIndex: \"status\",\n      width:100,\n      render: (status) => (\n        <>\n          {\n            status===\"green\"&&<Tag color=\"green\">{t(\"Home.status_good\")}</Tag>\n          }\n          {\n            status===\"error\"&&<Tag color=\"error\">{t(\"Home.status_error\")}</Tag>\n          }\n          {\n            status===\"warning\"&&<Tag color=\"warning\">{t(\"Home.status_warning\")}</Tag>\n          }\n        </>\n      ),\n    },\n    {\n      title: t(\"Home.pool\"),\n      dataIndex: \"name\",\n      key: \"name\",\n      width:200\n    },\n    {\n      title: t(\"Home.total_locked\"),\n      dataIndex: \"totalAvailable\",\n      key: \"totalAvailable\",\n      width:200\n    },\n    {\n      title: t(\"Home.apy\"),\n      dataIndex: \"apy\",\n      key: \"apy\",\n      width:100,\n    },\n    {\n      title: t(\"Home.performance_fee\"),\n      dataIndex: \"fee\",\n      key: \"fee\",\n      width:150\n    },\n    {\n      title: \"\",\n      key: \"action\",\n      width:60,\n      render: (text, record) => {\n        return (\n          <Space size=\"middle\">\n            <RightCircleOutlined\n              onClick={() => gotoPoolPage(record)}\n              style={{ fontSize: \"28px\", color: \"#08c\" }}\n            />\n          </Space>\n        );\n      },\n    },\n  ];\n\n  useEffect(() => {\n    async function getData() {\n      setLoading(true)\n      try {\n        const list = await posPoolManagerContract.getPools();\n        const data = await transferData(list);\n        history.push(`/pool/${data[0].address}`);\n        setDataList(data);\n        setLoading(false)\n      } catch (error) {\n        setDataList([]);\n        setLoading(false)\n      }\n    }\n    getData();\n  }, []);\n\n  const transferData = async (list) => {\n    const arr = [];\n    const proArr = [];\n    list.forEach((item) => {\n      const address = item[3];\n      proArr.push(getPosAccountByPowAddress(address));\n    });\n    try {\n      const proRes = await Promise.all(proArr);\n    list.forEach((item, index) => {\n      arr.push({\n        key: item[3],\n        address: item[3],\n        totalAvailable: getCfxByVote(item[2]),\n        name: item[4],\n        apy: getApy(item[0]) + \"%\",\n        fee: getFee(item[1]) + \"%\",\n        status: proRes[index]?.status?.forceRetired == null,\n      });\n    });\n    } catch (error) {\n      list.forEach((item, index) => {\n        arr.push({\n          key: item[3],\n          address: item[3],\n          totalAvailable: getCfxByVote(item[2]),\n          name: item[4],\n          apy: getApy(item[0]) + \"%\",\n          fee: getFee(item[1]) + \"%\",\n          status: \"warning\",\n        });\n      });\n    }\n    \n    return arr;\n  };\n  return (\n    <div className=\"w-full h-full flex items-center justify-center\">\n      <Table columns={columns} dataSource={dataList} pagination={false} size='middle' loading={loading} />\n    </div>\n  );\n}\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport { Card, Tag } from \"antd\";\nimport { useParams } from \"react-router-dom\";\nimport BigNumber from \"bignumber.js\";\nimport {\n  CheckCircleOutlined,SyncOutlined,CloseCircleOutlined\n} from '@ant-design/icons';\n\nimport { getPosPoolContract, Drip } from \"../../utils/cfx\";\nimport { getCfxByVote, getApy,getPrecisionAmount } from \"../../utils\";\nimport { StatusPosNode } from \"../../constants\";\nimport {useTranslation} from 'react-i18next'\n\n\nfunction Header({ status }) {\n  const {t} = useTranslation()\n\n  let { poolAddress } = useParams();\n  const posPoolContract = getPosPoolContract(poolAddress);\n  const [lockedCfx, setLockedCfx] = useState(0);\n  const [totalRevenue, setTotalRevenue] = useState(0);\n  const [apy, setApy] = useState(0);\n  const [name,setName]=useState('loading...')\n\n  const getStatusTag=(status)=>{\n    let icon=null\n    let color=''\n    let text=''\n    switch(status){\n      case StatusPosNode.loading:\n        icon=<SyncOutlined spin />\n        color='default'\n        text=t(\"Home.status_loading\")\n        break;\n      case StatusPosNode.success:\n        icon=<CheckCircleOutlined />\n        color='success'\n        text=t(\"Home.status_good\")\n        break;\n      case StatusPosNode.error:\n        icon=<CloseCircleOutlined />\n        color='error'\n        text=t(\"Home.status_error\")\n        break;  \n      case StatusPosNode.warning:\n        icon=<></>\n        color='warning'\n        text=t(\"Home.status_warning\")\n        break;  \n      default:break  \n    }\n    return <Tag color={color} icon={icon}>{text}</Tag>\n  }\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const proArr = [];\n        proArr.push(posPoolContract.poolSummary());\n        proArr.push(posPoolContract.poolAPY());\n        proArr.push(posPoolContract.poolName());\n        const data = await Promise.all(proArr);\n        const poolSummary = data[0];\n        setLockedCfx(getCfxByVote(poolSummary[0]));\n        setTotalRevenue(\n          new Drip(\n            new BigNumber(poolSummary[2]).minus(poolSummary[1]).toNumber()\n          ).toCFX()\n        );\n        setApy(getApy(data[1]));\n        setName(data[2])\n      } catch (error) {}\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [poolAddress]);\n\n  const cardStyle = {\n    backgroundColor: \"#4d5a7e\",\n    borderRadius: \"10px\",\n    color: \"#fff\",\n    fontWeight: \"700\",\n  };\n  const cardHeadStyle = { color: \"#fff\", opacity: \"0.6\" };\n  return (\n    <div className=\"flex\">\n      <div className=\"flex-1 pr-4 \">\n        <Card\n          title={t(\"Home.status\")}\n          bordered={false}\n          style={cardStyle}\n          headStyle={cardHeadStyle}\n        >\n          {getStatusTag(status)}\n        </Card>\n      </div>\n      <div className=\"flex-1 pr-4\">\n        <Card\n          title={t(\"Home.pool\")}\n          bordered={false}\n          style={cardStyle}\n          headStyle={cardHeadStyle}\n        >\n          <div>{name}</div>\n        </Card>\n      </div>\n      <div className=\"flex-1 pr-4\">\n        <Card\n          title={t(\"Home.total_locked\")}\n          bordered={false}\n          style={cardStyle}\n          headStyle={cardHeadStyle}\n        >\n          <div>{lockedCfx}</div>\n        </Card>\n      </div>\n      <div className=\"flex-1 pr-4\">\n        <Card title={t(\"Home.total_revenue\")} bordered={false} style={cardStyle} headStyle={cardHeadStyle}>\n          <div>{getPrecisionAmount(totalRevenue,5)}</div>\n        </Card>\n      </div>\n      <div className=\"flex-1\">\n        <Card title={t(\"Home.apy\")} bordered={false} style={cardStyle} headStyle={cardHeadStyle}>\n          <div>{apy + \"%\"}</div>\n        </Card>\n      </div>\n    </div>\n  );\n}\nexport default Header;\n","import {Modal} from 'antd'\nimport {useTranslation} from 'react-i18next'\n\nfunction ConfirmModal({type, visible, setVisible, onOk}) {\n  const {t} = useTranslation()\n\n  let content = <></>\n  let okText = ''\n  switch (type) {\n    case 'stake':\n      okText = t('ConfirmModal.stake')\n      content = (\n        <div>\n          <div className=\"text-center text-error text-base font-bold mt-2 mb-4\">\n            {t('ConfirmModal.stake_1')}\n          </div>\n          <div className=\"leading-6\">{t('ConfirmModal.stake_2')}</div>\n          <div className=\"leading-6\">{t('ConfirmModal.stake_3')}</div>\n          <div className=\"leading-6\">{t('ConfirmModal.stake_4')}</div>\n        </div>\n      )\n      break\n    case 'unstake':\n      okText = t('ConfirmModal.unstake')\n      content = (\n        <div>\n          <div>{t('ConfirmModal.unstake_1')}</div>\n          <div>{t('ConfirmModal.unstake_2')}</div>\n          <div>{t('ConfirmModal.unstake_3')}</div>\n        </div>\n      )\n      break\n    default:\n      break\n  }\n  return (\n    <Modal\n      title=\"Confirm\"\n      visible={visible}\n      onOk={onOk}\n      okText={okText}\n      onCancel={() => {\n        setVisible(false)\n      }}\n    >\n      {content}\n    </Modal>\n  )\n}\nexport default ConfirmModal\n","import { Modal } from \"antd\";\nimport {useTranslation} from 'react-i18next'\n\nimport successImg from \"../../images/success_big.png\"\nimport { getEllipsStr, getNetworkUrl } from \"../../utils\"\n\nconst TxModal = ({ visible = false, txHash, setVisible }) => {\n  const {t} = useTranslation();\n  const url = getNetworkUrl()\n  return (\n    <>\n      <Modal\n        maskClosable={false}\n        visible={visible}\n        onCancel={()=>{setVisible(false)}}\n        footer={null}\n      >\n          <div className=\"flex flex-col items-center \">\n            <img src={successImg} alt=\"success\" className=\"w-14\" />\n            <div className=\"my-2\">\n            {t(\"TxModal.transaction_submitted\")}\n            </div>\n            <div className=\"\">\n              <span>\n              {t(\"TxModal.transaction_hash\")}\n              </span>\n              {txHash&&<a\n                href={`${url}/transaction/${txHash}`}\n                target=\"_blank\"\n                className=\"content ml-1\"\n                rel=\"noopener noreferrer\"\n              >\n                {getEllipsStr(txHash, 8, 0)}\n              </a>}\n            </div>\n          </div>\n      </Modal>\n    </>\n  )\n}\nexport default TxModal\n","export default \"data:image/png;base64,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\"","import React, {useState, useEffect, useCallback} from 'react'\nimport {Input, Button, Divider, Form, List, message, Col, Row, Spin} from 'antd'\nimport {useParams} from 'react-router-dom'\nimport BigNumber from 'bignumber.js'\nimport {format} from 'js-conflux-sdk/dist/js-conflux-sdk.umd.min.js'\nimport {useTranslation} from 'react-i18next'\n\nimport {isTestNetEnv} from '../../utils'\nimport {\n  getPosPoolContract,\n  conflux,\n  Drip,\n  getPosAccountByPowAddress,\n} from '../../utils/cfx'\nimport {\n  getCfxByVote,\n  calculateGasMargin,\n  getFee,\n  getDateByBlockInterval,\n  getMax,\n  getPrecisionAmount,\n} from '../../utils'\nimport {\n  useBalance,\n  useAccount,\n  useChainId,\n  sendTransaction,\n  Unit,\n} from '@cfxjs/use-wallet'\nimport {CFX_BASE_PER_VOTE, StatusPosNode} from '../../constants'\nimport Header from './Header'\nimport ConfirmModal from './ConfirmModal'\nimport TxModal from './TxModal'\n\nconst isTest = isTestNetEnv()\n\nfunction Pool() {\n  const {t} = useTranslation()\n  const chainId = useChainId()\n  const accountAddress = useAccount()\n  const [form] = Form.useForm()\n  const _balance = useBalance()\n  const balance = _balance?.toDecimalStandardUnit(5)\n  const cfxMaxCanStake = getMax(balance)\n  let {poolAddress} = useParams()\n  const posPoolContract = getPosPoolContract(poolAddress)\n  const [status, setStatus] = useState(StatusPosNode.loading)\n  const [stakedCfx, setStakedCfx] = useState(0)\n  const [rewards, setRewards] = useState(0)\n  const [fee, setFee] = useState(0)\n  const [cfxCanUnstake, setCfxCanUnstate] = useState(0)\n  const [cfxCanWithdraw, setCfxCanWithdraw] = useState(0)\n  const [inputStakeCfx, setInputStakeCfx] = useState('')\n  const [inputUnstakeCfx, setInputUnstakeCfx] = useState('')\n  const [userSummary, setUserSummary] = useState([])\n  const [currentBlockNumber, setCurrentBlockNumber] = useState(0)\n  const [lastDistributeTime, setLastDistributeTime] = useState('')\n  const [unstakeList, setUnstakeList] = useState([])\n  const [stakeModalShown, setStakeModalShown] = useState(false)\n  const [unstakeModalShown, setUnStakeModalShown] = useState(false)\n  const [txModalShown, setTxModalShown] = useState(false)\n  const [txHash, setTxHash] = useState('')\n  const [stakeInputStatus, setStakeInputStatus] = useState('error')\n  const [stakeErrorText, setStakeErrorText] = useState('')\n  const [unstakeInputStatus, setUnstakeInputStatus] = useState('error')\n  const [unstakeErrorText, setUnstakeErrorText] = useState('')\n  const [stakeBtnDisabled, setStakeBtnDisabled] = useState(true)\n  const [unstakeBtnDisabled, setUnstakeBtnDisabled] = useState(true)\n  const [isLoading, setIsLoading] = useState(false)\n  const [waitStakeRes, setWaitStakeRes] = useState(false)\n\n  useEffect(() => {\n    async function fetchData() {\n      const proArr = []\n      proArr.push(conflux.provider.call('cfx_getStatus'))\n      proArr.push(conflux.provider.call('cfx_getPoSEconomics'))\n      const data = await Promise.all(proArr)\n      const currentBlock = new BigNumber(data[0]?.blockNumber || 0).toNumber()\n      const lastDistribute = new BigNumber(\n        data[1]?.lastDistributeBlock || 0,\n      ).toNumber()\n      setCurrentBlockNumber(currentBlock)\n      setLastDistributeTime(\n        getDateByBlockInterval(lastDistribute, currentBlock).toLocaleString(),\n      )\n    }\n    fetchData()\n  }, [])\n\n  useEffect(() => {\n    if (status) {\n      if (stakeErrorText) {\n        setStakeBtnDisabled(true)\n      } else {\n        setStakeBtnDisabled(false)\n      }\n    } else {\n      setStakeBtnDisabled(true)\n    }\n  }, [stakeErrorText, status])\n\n  useEffect(() => {\n    if (status) {\n      if (unstakeErrorText) {\n        setUnstakeBtnDisabled(true)\n      } else {\n        setUnstakeBtnDisabled(false)\n      }\n    } else {\n      setUnstakeBtnDisabled(true)\n    }\n  }, [unstakeErrorText, status])\n\n  useEffect(() => {\n    async function fetchData(address) {\n      try {\n        const posAccount = await getPosAccountByPowAddress(address)\n      setStatus(\n        posAccount.status?.forceRetired == null\n          ? StatusPosNode.success\n          : StatusPosNode.error,\n      )\n      } catch (error) {\n        setStatus(StatusPosNode.warning)\n      }\n    }\n    fetchData(poolAddress)\n  }, [poolAddress])\n\n  useEffect(() => {\n    try {\n      const stakeCfxNum = Number(inputStakeCfx)\n      if (\n        stakeCfxNum >= CFX_BASE_PER_VOTE &&\n        stakeCfxNum <= cfxMaxCanStake &&\n        stakeCfxNum % CFX_BASE_PER_VOTE === 0\n      ) {\n        setStakeInputStatus('green')\n        setStakeErrorText('')\n      } else {\n        setStakeInputStatus('error')\n        setStakeErrorText(t('Pool.wrong_amount'))\n      }\n    } catch (error) {\n      setStakeInputStatus('error')\n      setStakeErrorText(t('Pool.wrong_amount'))\n    }\n  }, [cfxMaxCanStake, inputStakeCfx, t])\n\n  useEffect(() => {\n    try {\n      const cfxNum = Number(inputUnstakeCfx)\n      if (\n        cfxNum >= CFX_BASE_PER_VOTE &&\n        cfxNum <= cfxCanUnstake &&\n        cfxNum % CFX_BASE_PER_VOTE === 0\n      ) {\n        setUnstakeInputStatus('green')\n        setUnstakeErrorText('')\n      } else {\n        setUnstakeInputStatus('error')\n        setUnstakeErrorText(t('Pool.wrong_amount'))\n      }\n    } catch (error) {\n      setUnstakeInputStatus('error')\n      setUnstakeErrorText(t('Pool.wrong_amount'))\n    }\n  }, [cfxCanUnstake, inputUnstakeCfx, t])\n\n  function resetData() {\n    setStakedCfx(0)\n    setRewards(0)\n    setCfxCanUnstate(0)\n    setCfxCanWithdraw(0)\n  }\n\n  const fetchPoolData = useCallback(async () => {\n    setIsLoading(true)\n    try {\n      const proArr = []\n      proArr.push(posPoolContract.userSummary(accountAddress))\n      proArr.push(posPoolContract.userInterest(accountAddress))\n      proArr.push(posPoolContract.poolUserShareRatio())\n      proArr.push(posPoolContract.userOutQueue(accountAddress))\n      const data = await Promise.all(proArr)\n      const userSum = data[0]\n      setUserSummary(userSum)\n      setStakedCfx(\n        new BigNumber(userSum[1] || 0)\n          .multipliedBy(CFX_BASE_PER_VOTE)\n          .toString(10),\n      )\n      setCfxCanUnstate(getCfxByVote(userSum[2] || 0))\n      setCfxCanWithdraw(getCfxByVote(userSum[3] || 0))\n      setRewards(\n        getPrecisionAmount(\n          new Drip(new BigNumber(data[1]).toString(10)).toCFX(),\n          5,\n        ),\n      )\n      setFee(getFee(data[2]))\n      setUnstakeList(transferQueue(data[3]))\n      setIsLoading(false)\n    } catch (error) {\n      setIsLoading(false)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [accountAddress, currentBlockNumber])\n\n  useEffect(() => {\n    if (!waitStakeRes) return\n    if (accountAddress) {\n      fetchPoolData()\n      setWaitStakeRes(false)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [balance])\n\n  useEffect(() => {\n    if (accountAddress) {\n      fetchPoolData()\n    } else {\n      resetData()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [accountAddress, currentBlockNumber])\n\n  const transferQueue = queueList => {\n    if (queueList.length === 0) return []\n    const arr = []\n    queueList.forEach(item => {\n      const blockNumber = new BigNumber(item[1]).toNumber()\n      if (blockNumber > currentBlockNumber) {\n        arr.push({\n          amount: getCfxByVote(item[0]),\n          timeStr: getDateByBlockInterval(\n            blockNumber,\n            currentBlockNumber,\n          ).toLocaleString(),\n        })\n      }\n    })\n    return arr\n  }\n\n  const onStakeChange = e => {\n    setInputStakeCfx(e.target.value)\n  }\n\n  const onUnstakeChange = e => {\n    setInputUnstakeCfx(e.target.value)\n  }\n\n  const submit = async type => {\n    if (!accountAddress) {\n      message.error('Please connect Fluent')\n      return\n    }\n\n    try {\n      let data = ''\n      let estimateData = {}\n      let value = 0\n      switch (type) {\n        case 'stake':\n          value = new BigNumber(inputStakeCfx)\n            .multipliedBy(10 ** 18)\n            .toString(10)\n          const stakeVote = new BigNumber(inputStakeCfx)\n            .dividedBy(CFX_BASE_PER_VOTE)\n            .toString(10)\n          estimateData = await posPoolContract\n            .increaseStake(stakeVote)\n            .estimateGasAndCollateral({\n              from: accountAddress,\n              value,\n            })\n          data = posPoolContract.increaseStake(stakeVote).data\n          setWaitStakeRes(true)\n          break\n        case 'unstake':\n          value = 0\n          const unstakeVote = new BigNumber(inputUnstakeCfx)\n            .dividedBy(CFX_BASE_PER_VOTE)\n            .toString(10)\n          estimateData = await posPoolContract\n            .decreaseStake(unstakeVote)\n            .estimateGasAndCollateral({\n              from: accountAddress,\n            })\n          data = posPoolContract.decreaseStake(unstakeVote).data\n          break\n        case 'claim':\n          value = 0\n          estimateData = await posPoolContract\n            .claimAllInterest()\n            .estimateGasAndCollateral({\n              from: accountAddress,\n            })\n          data = posPoolContract.claimAllInterest().data\n          break\n        case 'withdraw':\n          value = 0\n          estimateData = await posPoolContract\n            .withdrawStake(new BigNumber(userSummary[3]).toString(10))\n            .estimateGasAndCollateral({\n              from: accountAddress,\n            })\n          data = posPoolContract.withdrawStake(\n            new BigNumber(userSummary[3]).toString(10),\n          ).data\n          break\n        default:\n          break\n      }\n      const txParams = {\n        to: format.address(poolAddress, Number(chainId)),\n        data,\n        gas: Unit.fromMinUnit(\n          calculateGasMargin(estimateData?.gasLimit || 0),\n        ).toHexMinUnit(),\n        storageLimit: Unit.fromMinUnit(\n          calculateGasMargin(String(estimateData?.storageCollateralized || 0)),\n        ).toHexMinUnit(),\n        value: Unit.fromMinUnit(value).toHexMinUnit(),\n      }\n      if (stakeModalShown) {\n        setStakeModalShown(false)\n      }\n      if (unstakeModalShown) {\n        setUnStakeModalShown(false)\n      }\n      const txHash = await sendTransaction(txParams)\n      setTxHash(txHash)\n      setTxModalShown(true)\n    } catch (error) {\n      console.error('error', error)\n    }\n  }\n\n  const checkNetwork = callback => {\n    if ((isTest && chainId === '1029') || (!isTest && chainId === '1')) {\n      return\n    }\n\n    if (typeof callback === 'function') callback()\n  }\n\n  return (\n    <div className=\"w-full h-full flex\">\n      {isLoading ? (\n        <div className=\"flex items-center justify-center w-full h-screen\">\n          <Spin></Spin>\n        </div>\n      ) : (\n        <div className=\"container mx-auto\">\n\n<fieldset style={{ fontWeight: 'bold',color: 'white'}}>\n          <legend>Tips</legend>\n          <ol  >\n\n\n \n\t      <li  style={{ fontWeight: 'bold',color: 'red'}}>\n\t      The Stake function was paused due to PoS upgrade, this function will be enable at 2022/2/27 9:00 am UTC+8.\n\t       </li>\n\n\n          <li>\nSecurity First, we will never change the contract code, our KYC info have been provided to Conflux fundation team.\n </li>\n <li>\n The earlier you stake, the reward will be higher.\n </li>\n <li>\n The pool performance fee in the first week +1 day will be 0.01%, after that it will back to 3.99% of the PoS reward.   \n </li>\n          </ol>\n  </fieldset>\n  \n          <Header status={status} />\n          <div className=\"flex justify-center mt-6\">\n            <div className=\"w-9/12\">\n              <div className=\"flex\">\n                <div className=\"flex-1 p-6 mr-4 -ml-2 border-gray-800 border-2 text-white box-border rounded bg-main-back\">\n                  <Form\n                    layout=\"vertical\"\n                    form={form}\n                    wrapperCol={{style: {color: 'white'}}}\n                    style={{color: 'white'}}\n                  >\n                    <div className=\"font-bold my-4 text-xl text-center\">\n                      {t('Pool.stake&unstake')}\n                    </div>\n                    <div className=\"my-2\">{t('Pool.how_much_stake')}</div>\n                    <Form.Item\n                      required\n                      validateStatus={stakeInputStatus}\n                      help={stakeErrorText}\n                    >\n                      <Row>\n                        <Col span={21}>\n                          <Input\n                            placeholder={t('Pool.enter_cfx_amount')}\n                            //   addonAfter={<span>Max</span>}\n                            value={inputStakeCfx}\n                            onChange={onStakeChange}\n                          />\n                        </Col>\n                        <Col span={3}>\n                          <Button\n                            onClick={() => {\n                              setInputStakeCfx(cfxMaxCanStake)\n                            }}\n                          >\n                            {t('Pool.max')}\n                          </Button>\n                        </Col>\n                      </Row>\n                    </Form.Item>\n                    <div>\n                      <span>{t('Pool.balance')}</span>\n                      <span className=\"ml-2 font-bold\">{balance}</span>\n                      <span> CFX</span>\n                    </div>\n                    <div className=\"flex mt-2\">\n                      <Button\n                        type=\"primary\"\n                        size=\"middle\"\n                        onClick={() => {\n                          checkNetwork(() => setStakeModalShown(true))\n                        }}\n                        disabled={stakeBtnDisabled}\n                      >\n                        {t('Pool.stake')}\n                      </Button>\n                    </div>\n                    <Divider dashed style={{borderColor: 'white'}} />\n                    <div className=\"my-1\">{t('Pool.how_much_unstake')}</div>\n                    <Form.Item\n                      required\n                      validateStatus={unstakeInputStatus}\n                      help={unstakeErrorText}\n                    >\n                      <Row>\n                        <Col span={21}>\n                          <Input\n                            placeholder={t('Pool.enter_cfx_amount')}\n                            value={inputUnstakeCfx}\n                            onChange={onUnstakeChange}\n                          />\n                        </Col>\n                        <Col span={3}>\n                          <Button\n                            onClick={() => {\n                              setInputUnstakeCfx(cfxCanUnstake)\n                            }}\n                          >\n                            {t('Pool.max')}\n                          </Button>\n                        </Col>\n                      </Row>\n                    </Form.Item>\n\n                    <div>\n                      <span>{t('Pool.unstakeable')}</span>\n                      <span className=\"ml-2 font-bold\">{cfxCanUnstake}</span>\n                      <span> CFX</span>\n                    </div>\n                    <div className=\"flex mt-2\">\n                      <Button\n                        type=\"primary\"\n                        size=\"middle\"\n                        onClick={() => {\n                          checkNetwork(() => setUnStakeModalShown(true))\n                        }}\n                        disabled={unstakeBtnDisabled}\n                      >\n                        {t('Pool.unstake')}\n                      </Button>\n                    </div>\n                  </Form>\n                </div>\n                <div className=\"flex-1 p-6 border-gray-800 border-2 box-border rounded bg-main-back text-white\">\n                  <div className=\"font-bold my-4 text-xl text-center mb-4\">\n                    {t('Pool.my_pool')}\n                  </div>\n                  <div className=\"mt-7\">\n                    <span>{t('Pool.my_staked')}</span>\n                    <span className=\"ml-2 font-bold\">{stakedCfx}</span>\n                    <span> CFX</span>\n                  </div>\n                  <div className=\"my-4\">\n                    <span>{t('Pool.my_rewards')}</span>\n                    <span className=\"ml-2 font-bold\">{rewards}</span>\n                    <span> CFX</span>\n                    <span className=\"ml-2\">\n                      <Button\n                        type=\"primary\"\n                        size=\"small\"\n                        onClick={() => {\n                          checkNetwork(() => submit('claim'))\n                        }}\n                        disabled={new BigNumber(rewards).isEqualTo(0)}\n                      >\n                        {t('Pool.claim')}\n                      </Button>\n                    </span>\n                  </div>\n                  <div className=\"my-2 opacity-60\">\n                    <span>{t('Pool.last_update_time')}</span>\n                    <span>{lastDistributeTime}</span>\n                  </div>\n                  <div className=\"my-4\">\n                    <span>{t('Pool.performance_fee')}</span>\n                    <span className=\"ml-2 font-bold\">{`${fee} %`}</span>\n                  </div>\n                  <Divider dashed style={{borderColor: 'white'}} />\n                  <div>\n                    <span>{t('Pool.withdrawable')}</span>\n                    <span className=\"ml-2 font-bold\">{cfxCanWithdraw}</span>\n                    <span> CFX</span>\n                    <span className=\"ml-2\">\n                      <Button\n                        type=\"primary\"\n                        size=\"small\"\n                        onClick={() => {\n                          checkNetwork(() => submit('withdraw'))\n                        }}\n                        disabled={!cfxCanWithdraw}\n                      >\n                        {t('Pool.withdraw')}\n                      </Button>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className={`${unstakeList.length > 0 ? 'block' : 'hidden'}`}>\n                <Divider\n                  dashed\n                  orientation=\"left\"\n                  style={{borderColor: 'white', color: 'white'}}\n                >\n                  {t('Pool.unstake_activity')}\n                </Divider>\n                <List\n                  bordered\n                  dataSource={unstakeList}\n                  renderItem={item => (\n                    <List.Item>\n                      <div className=\"text-white\">{`${item.amount} CFX`}</div>\n                      <div className=\"text-white\">\n                        {t('Pool.can_withdraw_at', {time: item.timeStr})}\n                      </div>\n                    </List.Item>\n                  )}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n      )\n      <ConfirmModal\n        visible={stakeModalShown}\n        setVisible={setStakeModalShown}\n        type=\"stake\"\n        onOk={() => {\n          submit('stake')\n        }}\n      ></ConfirmModal>\n      <ConfirmModal\n        visible={unstakeModalShown}\n        setVisible={setUnStakeModalShown}\n        type=\"unstake\"\n        onOk={() => {\n          submit('unstake')\n        }}\n      ></ConfirmModal>\n      <TxModal\n        visible={txModalShown}\n        setVisible={setTxModalShown}\n        txHash={txHash}\n      ></TxModal>\n    </div>\n  )\n}\n\nexport default Pool\n","import { Suspense } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Spin, Layout } from \"antd\";\n\nimport \"./App.css\";\nimport { Header } from \"./pages/components\";\nimport Home from \"./pages/Home\";\nimport Pool from \"./pages/Pool\";\n\nconst { Content } = Layout;\n\nfunction App() {\n  return (\n    <Suspense\n      fallback={\n        <div className=\"w-full h-full flex items-center justify-center\">\n          <Spin className=\"w-20 h-20\" />\n        </div>\n      }\n    >\n      <Router>\n        <Layout className=\"layout\">\n          <div className=\"flex flex-col h-full relative overflow-x-hidden\">\n            <Header />\n            <Content style={{ padding: \"50px 50px\",backgroundColor:'#2d3344' }}>\n              <div>\n                <Switch>\n                  <Route path=\"/\" exact>\n                    <Home />\n                  </Route>\n                  <Route path=\"/pool/:poolAddress\" exact>\n                    <Pool />\n                  </Route>\n                </Switch>\n              </div>\n            </Content>\n            {/* <Footer style={{ textAlign: 'center' }}>PoS Pool</Footer> */}\n          </div>\n        </Layout>\n      </Router>\n    </Suspense>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {completeDetect} from '@cfxjs/use-wallet';\nimport '../public/locales';\n\ncompleteDetect().then(() => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n});\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\nmodule.exports = {\n  defaultLang: 'zh',\n  testnet: {\n    poolManagerAddress: 'cfxtest:xxxxxxxxxxxxxxxxxxxxxxxxxx',\n    RPC: 'https://test.confluxrpc.com',\n    networkId: 1\n  },\n  mainnet: {\n\t  poolManagerAddress: 'cfx:accpvfcjt8kautc9vpjwphet0r7x0br2xanp38ybac',\n    RPC: 'https://main.confluxrpc.com',\n    networkId: 1029\n  }\n}\n"],"sourceRoot":""}